{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\heman\\\\graphql\\\\client\\\\src\\\\components\\\\ClientRow.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { DELETE_CLIENT } from './mutations/clientMutation';\nimport { useMutation } from '@apollo/client';\nimport { GET_CLIENTS } from './queries/clientQueries';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ClientRow({\n  client\n}) {\n  _s();\n  const [deleteClient] = useMutation(DELETE_CLIENT, {\n    variables: {\n      id: client.id\n    },\n    refetchQueries: [{\n      query: GET_CLIENTS\n    }],\n    update(cache, {\n      data: {\n        deleteClient\n      }\n    }) {\n      const {\n        clients\n      } = cache.readQuery({\n        query: GET_CLIENTS\n      });\n      cache.writeQuery({\n        query: GET_CLIENTS,\n        data: {\n          clients: clients.filter(client => client.id !== deleteClient.id)\n        }\n      });\n    }\n  });\n  const handleDeleteClick = () => {\n    // Call the deleteClient mutation when the button is clicked\n    deleteClient();\n  };\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: client.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: client.email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: client.phone\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDeleteClick,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n_s(ClientRow, \"MpHlW5AzbL9dxGSrN5Hps2OiJR8=\", false, function () {\n  return [useMutation];\n});\n_c = ClientRow;\nvar _c;\n$RefreshReg$(_c, \"ClientRow\");","map":{"version":3,"names":["React","DELETE_CLIENT","useMutation","GET_CLIENTS","jsxDEV","_jsxDEV","ClientRow","client","_s","deleteClient","variables","id","refetchQueries","query","update","cache","data","clients","readQuery","writeQuery","filter","handleDeleteClick","children","name","fileName","_jsxFileName","lineNumber","columnNumber","email","phone","onClick","_c","$RefreshReg$"],"sources":["C:/Users/heman/graphql/client/src/components/ClientRow.jsx"],"sourcesContent":["import React from 'react';\r\nimport { DELETE_CLIENT } from './mutations/clientMutation';\r\nimport { useMutation } from '@apollo/client';\r\nimport { GET_CLIENTS } from './queries/clientQueries';\r\n\r\nexport default function ClientRow({ client }) {\r\n  const [deleteClient] = useMutation(DELETE_CLIENT, {\r\n    variables: { id: client.id },\r\n    refetchQueries: [{ query: GET_CLIENTS }],\r\n    update(cache, { data: { deleteClient } }) {\r\n      const { clients } = cache.readQuery({ query: GET_CLIENTS });\r\n      cache.writeQuery({\r\n        query: GET_CLIENTS,\r\n        data: { clients: clients.filter(client => client.id !== deleteClient.id) },\r\n      });\r\n    },\r\n  });\r\n\r\n  const handleDeleteClick = () => {\r\n    // Call the deleteClient mutation when the button is clicked\r\n    deleteClient();\r\n  };\r\n\r\n  return (\r\n    <tr>\r\n      <td>{client.name}</td>\r\n      <td>{client.email}</td>\r\n      <td>{client.phone}</td>\r\n      <td>\r\n        <button onClick={handleDeleteClick}>Delete</button>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,4BAA4B;AAC1D,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,WAAW,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,eAAe,SAASC,SAASA,CAAC;EAAEC;AAAO,CAAC,EAAE;EAAAC,EAAA;EAC5C,MAAM,CAACC,YAAY,CAAC,GAAGP,WAAW,CAACD,aAAa,EAAE;IAChDS,SAAS,EAAE;MAAEC,EAAE,EAAEJ,MAAM,CAACI;IAAG,CAAC;IAC5BC,cAAc,EAAE,CAAC;MAAEC,KAAK,EAAEV;IAAY,CAAC,CAAC;IACxCW,MAAMA,CAACC,KAAK,EAAE;MAAEC,IAAI,EAAE;QAAEP;MAAa;IAAE,CAAC,EAAE;MACxC,MAAM;QAAEQ;MAAQ,CAAC,GAAGF,KAAK,CAACG,SAAS,CAAC;QAAEL,KAAK,EAAEV;MAAY,CAAC,CAAC;MAC3DY,KAAK,CAACI,UAAU,CAAC;QACfN,KAAK,EAAEV,WAAW;QAClBa,IAAI,EAAE;UAAEC,OAAO,EAAEA,OAAO,CAACG,MAAM,CAACb,MAAM,IAAIA,MAAM,CAACI,EAAE,KAAKF,YAAY,CAACE,EAAE;QAAE;MAC3E,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EAEF,MAAMU,iBAAiB,GAAGA,CAAA,KAAM;IAC9B;IACAZ,YAAY,CAAC,CAAC;EAChB,CAAC;EAED,oBACEJ,OAAA;IAAAiB,QAAA,gBACEjB,OAAA;MAAAiB,QAAA,EAAKf,MAAM,CAACgB;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACtBtB,OAAA;MAAAiB,QAAA,EAAKf,MAAM,CAACqB;IAAK;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACvBtB,OAAA;MAAAiB,QAAA,EAAKf,MAAM,CAACsB;IAAK;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACvBtB,OAAA;MAAAiB,QAAA,eACEjB,OAAA;QAAQyB,OAAO,EAAET,iBAAkB;QAAAC,QAAA,EAAC;MAAM;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAET;AAACnB,EAAA,CA5BuBF,SAAS;EAAA,QACRJ,WAAW;AAAA;AAAA6B,EAAA,GADZzB,SAAS;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}